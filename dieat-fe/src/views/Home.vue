<template>
  <div>
    <Header></Header>
    <main class="main">
      <div class="image-wrapper">
        <img src="@/assets/home_img/diet_main_img.jpg" alt="ê¸°ë³¸ ì´ë¯¸ì§€" class="main-img"/>
        <img src="@/assets/home_img/diet_main_img_hover.png" alt="í˜¸ë²„ ì´ë¯¸ì§€" class="hover-overlay"/>
      </div>
    </main>

    <br>    

    <h2>ğŸ¥•About DIEAT ServiceğŸ¥¦</h2>
    <div class="swiper-wrapper">
      <swiper
        
        :modules="[Navigation, Autoplay]"
        :loop="true"
        :autoplay="{ delay: 3000 }"
        class="my-swiper"
        @swiper="onSwiper"
        @mouseenter="pauseAutoplay"
        @mouseleave="resumeAutoplay"
      >
        <swiper-slide v-for="(img, i) in images" :key="i">
          <img :src="img" class="slide-img" />
        </swiper-slide>
      </swiper>

      <div class="arrow-buttons">
        <button @click="slidePrev">&#10094;</button>
        <button @click="slideNext">&#10095;</button>
      </div>
    </div>
  </div>
  <br>
  <br>
  <br>
  <br>
  <br>
  <Footer></Footer>
  
</template>

<script setup>
import {ref} from 'vue';
import Header from '@/components/common/Header.vue';
import Footer from '@/components/common/Footer.vue';

import { Swiper, SwiperSlide } from 'swiper/vue'
import { Navigation, Autoplay } from 'swiper/modules'
import 'swiper/css'
import 'swiper/css/navigation'



import img1 from '@/assets/home_img/mypage.png';
import img2 from '@/assets/home_img/searchFood.png';
import img3 from '@/assets/home_img/meal.png';
import img4 from '@/assets/home_img/dietPost.png';
import img5 from '@/assets/home_img/succPost.png';
import img6 from '@/assets/home_img/freePost.png';

const images = [img1, img2, img3, img4, img5, img6];

const swiperInstance = ref(null);

const onSwiper = (swiper) => {
  swiperInstance.value = swiper;
};

const slidePrev = () => {
  swiperInstance.value?.slidePrev();
};

const slideNext = () => {
  swiperInstance.value?.slideNext();
};

const pauseAutoplay = () => {
  swiperInstance.value?.autoplay?.stop();
};

const resumeAutoplay = () => {
  swiperInstance.value?.autoplay?.start();
};
</script>

<style scoped>
/* ì˜ˆì‹œ - Montserrat */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');
  /* ì˜ˆì‹œ - Pretendard */
  @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css');

  .main {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      position: relative;
      z-index: 1;
  }
  
  .image-wrapper {
      position: relative;
      width: 100%;
      max-width: 800px;
      aspect-ratio: 7/5; /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€ (ì„ íƒ) */
      z-index: 1;
  }
  
  .main-img {
      width: 800px;
      height: 600px;
      object-fit: cover;
      display: block;
  }
  
  /* í˜¸ë²„ ì´ë¯¸ì§€: í‰ì†Œì—” ì•ˆ ë³´ì´ê³ , ìœ„ì— ê²¹ì³ì§ */
  .hover-overlay {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      width: 100%;
      height: 100%;
      transition: opacity 0.3s ease;
      pointer-events: none;
  }

  /* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í˜¸ë²„ ì´ë¯¸ì§€ê°€ ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚¨ */
  .image-wrapper:hover .hover-overlay {
      opacity: 0.8; /* íˆ¬ëª…ë„ ì„¤ì • */
  }

  h2 {
    text-align: center;
    font-size: 50px;
    font-weight: bold;
    font-family: 'Montserrat', sans-serif;
  }

  .swiper-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;  
    margin-top: 2rem;
  }

  .my-swiper {
    width: 800px;
    height: 600px;
  }

  .slide-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .arrow-buttons {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-top: 1rem;
  }

  .arrow-buttons button {
    color: black;
    font-size: 20px;
    border: none;
    padding: 5px 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .arrow-buttons button:hover {
    background: #abcec1;
  }
</style>
