<template>
    <div class="search-section">
        <input type="text" :value="modelValue" @input="$emit('update:modelValue', $event.target.value)"
            placeholder="ê²€ìƒ‰í•  ìŒì‹ëª…ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”" />
        <button class="icon-button" @click="$emit('add')">âœ›</button>
        <div class="dropdown-wrapper">
            <button class="icon-button" @click="toggleFilter">â˜°</button>

            <!-- ğŸ”¥ ë“œë¡­ë‹¤ìš´ ë‚´ë¶€ì—ì„œ ì§ì ‘ ë Œë”ë§ -->
            <div v-if="showFilter" class="filter-dropdown">
                <ul>
                    <li @click="$emit('selectFilter', 'latest')">ìµœì‹ ìˆœ</li>
                    <li @click="$emit('selectFilter', 'accuracy')">ì •í™•ë„ìˆœ</li>
                    <li @click="$emit('selectFilter', 'ratio')">ì •í™•ë„ ë¹„ìœ¨ìˆœ</li>
                </ul>
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref } from 'vue';

defineProps({
    modelValue: String,
});

defineEmits(['update:modelValue', 'add', 'selectFilter']);

const showFilter = ref(false);

function toggleFilter() {
    showFilter.value = !showFilter.value;
}
</script>